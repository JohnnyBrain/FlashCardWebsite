{"ast":null,"code":"import React, { useState } from \"react\";\nvar snakeList = [];\n\nfunction Snake() {\n  const board = document.createElement('table');\n  const max = 30;\n\n  for (let i = 0; i < max; i++) {\n    const tr = board.insertRow();\n\n    for (let j = 0; j < max; j++) {\n      const td = tr.insertCell();\n      td.appendChild(document.createTextNode(\"___\"));\n      td.style.border = '1px solid black';\n    }\n  }\n\n  const start = [Math.floor((max - 1) / 2), Math.floor((max - 1) / 2)];\n  var berry = [10, 10];\n  board.rows.item(berry[0]).cells.item(berry[1]).innerHTML = \"***\";\n  const len = 1;\n  const direction = [0, 0];\n  const startTimer = true;\n\n  for (let i = 0; i < len; i++) {\n    snakeList.push([start[0] + i, start[1]]);\n  }\n\n  var eaten = false;\n  var update = true;\n  var begin = true;\n  document.addEventListener('keydown', function (event) {\n    begin = false; //board.rows.item(start[0]).cells.item(start[1]).innerHTML = \"___\";\n    //left arrow\n\n    if (event.keyCode == 37 && update) {\n      //if(start[1] > 0){\n      //start[1]--;\n      //}\n      if (direction[1] != 1) {\n        direction[1] = -1;\n        direction[0] = 0;\n        update = false;\n      }\n    } //down arrow\n    else if (event.keyCode == 40 && update) {\n      //if(start[0] < max - 1){\n      //start[0]++;\n      //}\n      if (direction[0] != -1) {\n        direction[0] = 1;\n        direction[1] = 0;\n        update = false;\n      }\n    } //right arrow\n    else if (event.keyCode == 39 && update) {\n      //if(start[1] < max - 1){\n      //start[1]++;\n      // }\n      if (direction[1] != -1) {\n        direction[1] = 1;\n        direction[0] = 0;\n        update = false;\n      }\n    } //up arrow\n    else if (event.keyCode == 38 && update) {\n      //if(start[0] > 0){\n      //start[0]--;\n      //}\n      if (direction[0] != 1) {\n        direction[0] = -1;\n        direction[1] = 0;\n        update = false;\n      }\n    }\n\n    if (startTimer) {}\n\n    startTimer = false;\n  });\n  const lab = document.createElement(\"label\");\n  lab.innerHTML = eaten;\n  var timer = setInterval(function () {\n    if (start[0] < 0 || start[0] > max - 1 || start[1] < 0 || start[0] > max - 1) {\n      clearInterval(timer);\n      document.body.innerHTML = \"\";\n    }\n\n    board.rows.item(berry[0]).cells.item(berry[1]).innerHTML = \"***\"; //updates position of snake\n\n    start[0] += direction[0];\n    start[1] += direction[1];\n    board.rows.item(start[0]).cells.item(start[1]).innerHTML = \"***\";\n    snakeList.unshift([start[0], start[1]]);\n\n    if (start[0] == berry[0] && start[1] == berry[1]) {\n      eaten = true;\n      berry[0] = Math.floor(Math.random() * max);\n      berry[1] = Math.floor(Math.random() * max);\n    }\n\n    if (!eaten) {\n      board.rows.item(snakeList[snakeList.length - 1][0]).cells.item(snakeList[snakeList.length - 1][1]).innerHTML = \"___\";\n      snakeList.splice(snakeList.length - 1, 1);\n    } else {\n      eaten = false;\n    }\n\n    update = true;\n    lab.innerHTML = begin;\n\n    if (!begin) {\n      for (let i = 1; i < snakeList.length; i++) {\n        if (start[0] == snakeList[i][0] && start[0] == snakeList[i][1]) {\n          clearInterval(timer);\n          document.body.innerHTML = \"\";\n        }\n      }\n    }\n  }, 100);\n  document.body.appendChild(board);\n  document.body.appendChild(lab);\n}\n\n_c = Snake;\nexport default Snake;\n\nvar _c;\n\n$RefreshReg$(_c, \"Snake\");","map":{"version":3,"sources":["/Users/johnbrain/Projects/SnakeGame/src/snake.js"],"names":["React","useState","snakeList","Snake","board","document","createElement","max","i","tr","insertRow","j","td","insertCell","appendChild","createTextNode","style","border","start","Math","floor","berry","rows","item","cells","innerHTML","len","direction","startTimer","push","eaten","update","begin","addEventListener","event","keyCode","lab","timer","setInterval","clearInterval","body","unshift","random","length","splice"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\nvar snakeList = [];\n\nfunction Snake(){\n\n    const board = document.createElement('table');\n    const max = 30\n    for(let i = 0; i < max; i++){\n        const tr = board.insertRow();\n        for(let j = 0; j < max; j++){\n            const td = tr.insertCell();\n            td.appendChild(document.createTextNode(\"___\"));\n            td.style.border = '1px solid black';\n        }\n    }\n    const start = [Math.floor((max - 1) / 2), Math.floor((max - 1) / 2)];\n\n    var berry = [10, 10];\n    board.rows.item(berry[0]).cells.item(berry[1]).innerHTML = \"***\";\n\n    const len = 1;\n\n    const direction = [0, 0];\n    const startTimer = true;\n\n    for(let i = 0; i < len; i++){\n        snakeList.push([start[0] + i, start[1]]);\n    }\n\n    var eaten = false;\n    var update = true;\n    var begin = true;\n\n    document.addEventListener('keydown', function(event){\n\n        begin = false;\n        //board.rows.item(start[0]).cells.item(start[1]).innerHTML = \"___\";\n        //left arrow\n        if(event.keyCode == 37 && update){\n            //if(start[1] > 0){\n                //start[1]--;\n           //}\n           if(direction[1] != 1){\n                direction[1] = -1;\n                direction[0] = 0;\n                update = false;\n           }\n           \n        }\n\n        //down arrow\n        else if(event.keyCode == 40 && update){\n            //if(start[0] < max - 1){\n                //start[0]++;\n            //}\n            if(direction[0] != -1){\n                direction[0] = 1;\n                direction[1] = 0;\n                update = false;\n            }\n            \n        }\n\n        //right arrow\n        else if(event.keyCode == 39 && update){\n            //if(start[1] < max - 1){\n                //start[1]++;\n           // }\n           if(direction[1] != -1){\n                direction[1] = 1;\n                direction[0] = 0;\n                update = false;\n           }\n        }\n\n        //up arrow\n        else if(event.keyCode ==38 && update){\n            //if(start[0] > 0){\n                //start[0]--;\n            //}\n            if(direction[0] != 1){\n                direction[0] = -1;\n                direction[1] = 0;\n                update = false;\n            }\n        }\n            \n        if(startTimer){\n            \n        }  \n        startTimer = false;\n\n    });\n\n    const lab = document.createElement(\"label\");\n    lab.innerHTML = eaten;\n\n    var timer = setInterval(function(){\n        if(start[0] < 0 || start[0] > max - 1 || start[1] < 0 || start[0] > max -1){\n            clearInterval(timer);\n            document.body.innerHTML = \"\";\n        }\n\n        board.rows.item(berry[0]).cells.item(berry[1]).innerHTML = \"***\";\n\n        //updates position of snake\n        start[0] += direction[0];\n        start[1] += direction[1];\n        board.rows.item(start[0]).cells.item(start[1]).innerHTML = \"***\";\n\n        snakeList.unshift([start[0], start[1]]);\n\n        if(start[0] == berry[0] && start[1] == berry[1]){\n            eaten = true;\n            berry[0] = Math.floor(Math.random() * max);\n            berry[1] = Math.floor(Math.random() * max);\n        }\n        \n        if(!eaten){\n            board.rows.item(snakeList[snakeList.length - 1][0]).cells.item(snakeList[snakeList.length - 1][1]).innerHTML = \"___\";\n            snakeList.splice(snakeList.length - 1, 1);\n        }\n        else{\n            eaten = false;\n        }\n\n        update = true;\n        lab.innerHTML = begin;\n\n        if(!begin){\n            for(let i = 1; i < snakeList.length; i++){\n                if(start[0] == snakeList[i][0] && start[0] == snakeList[i][1]){\n                    clearInterval(timer);\n                    document.body.innerHTML = \"\";\n                }\n            }\n        }\n    }, 100);\n   \n\n    document.body.appendChild(board);\n    document.body.appendChild(lab);\n\n}\nexport default Snake;"]},"metadata":{},"sourceType":"module"}