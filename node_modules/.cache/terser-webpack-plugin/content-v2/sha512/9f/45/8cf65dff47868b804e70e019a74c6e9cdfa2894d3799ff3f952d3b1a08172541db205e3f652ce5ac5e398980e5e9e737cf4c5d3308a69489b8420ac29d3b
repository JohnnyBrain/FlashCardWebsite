{"code":"(this[\"webpackJsonpjapanese-website\"]=this[\"webpackJsonpjapanese-website\"]||[]).push([[0],{194:function(n,o,e){\"use strict\";e.r(o);var s=e(99),t=e(32),c=e.n(t),r=(e(100).response,e(100)),u=e(12),i=(e(175),e(437)),a=e(446),l=(e(14).resolve,r());l.listen(3e3,(function(){return console.log(\"working!\")})),l.use(r.static(\"src\")),l.use(r.json({limit:\"1mb\"}));var f=new i(\"database.db\");function d(n){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(c.a.mark((function n(o){var e;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.hash(o);case 3:return e=n.sent,n.abrupt(\"return\",e);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case\"end\":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function g(n,o){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(c.a.mark((function n(o,e){var s;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.verify(o,e);case 3:return s=n.sent,n.abrupt(\"return\",s);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case\"end\":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}f.loadDatabase(),l.post(\"/api\",(function(n,o){console.log(\"request recieved\"),console.log(n.body),u.appendFile(\"./Data.txt\",JSON.stringify(n.body)+\"\\n\",(function(n){n&&console.error(n)})),o.json({status:\"success\",DeckList:n.body})})),l.post(\"/editDeckList\",(function(n,o){console.log(\"request recieved\"),console.log(n.body);d(n.body.password).then((function(o){n.body.password=o,f.update({username:n.body.username},n.body)}));o.json({status:\"success\",DeckList:n.body})})),l.get(\"/getData\",(function(n,o){console.log(\"good\"),f.find({},(function(n,e){n&&console.log(n),o.json(e),console.log(e[0].sendDeckList[0].name)}))})),l.post(\"/login\",(function(n,o){console.log(\"good\"),f.find({username:n.body.username},(function(e,s){if(0==s.length)console.log(\"err\"),console.log(s),o.json({});else{console.log(s[0].password),console.log(n.body.password);g(s[0].password,n.body.password).then((function(n){console.log(n),console.log(s[0])}));for(var t=function(e){g(s[e].password,n.body.password).then((function(n){n&&(o.json([s[e]]),console.log(\"login succesful\"))}))},c=0;c<s.length;c++)t(c)}}))})),l.post(\"/createAccount\",(function(n,o){n.body.username;var e=n.body.password;f.find({username:n.body.username},(function(s,t){if(console.log(t.length),0!=t.length)console.log(\"err\"),console.log(t),o.json({success:\"bad\"});else d(e).then((function(e){console.log(e),n.body.password=e,f.insert(n.body),o.json({success:\"good\"})}))}))}))},206:function(n,o){},208:function(n,o){},244:function(n,o){},245:function(n,o){},262:function(n,o){},277:function(n,o){},280:function(n,o){function e(n){var o=new Error(\"Cannot find module '\"+n+\"'\");throw o.code=\"MODULE_NOT_FOUND\",o}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id=280},282:function(n,o){},284:function(n,o){},294:function(n,o){},296:function(n,o){},324:function(n,o){},326:function(n,o){},327:function(n,o){},332:function(n,o){},334:function(n,o){},353:function(n,o){},365:function(n,o){},368:function(n,o){},425:function(n,o){},427:function(n,o){}},[[194,1,2]]]);","name":"static/js/main.0fb19903.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","_Users_johnbrain_Projects_FlashCardProject_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__","_Users_johnbrain_Projects_FlashCardProject_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__","_Users_johnbrain_Projects_FlashCardProject_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default","n","express","response","fs","Datastore","argon2","app","resolve","listen","console","log","use","static","json","limit","database","hashPassword","_x","_hashPassword","apply","arguments","Object","a","mark","_callee","password","hash","wrap","_context","prev","next","sent","abrupt","t0","stop","verifyPassword","_x2","_x3","_verifyPassword","_callee2","hashPass","verify","_context2","loadDatabase","post","req","res","body","appendFile","JSON","stringify","err","error","status","DeckList","then","rtn","update","username","get","find","data","sendDeckList","name","length","_loop","i","success","insert","exports","webpackEmptyContext","e","Error","code","keys","id"],"sources":["static/js/main.0fb19903.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpjapanese-website\"] = this[\"webpackJsonpjapanese-website\"] || []).push([[0],{\n\n/***/ 194:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_johnbrain_Projects_FlashCardProject_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99);\n/* harmony import */ var _Users_johnbrain_Projects_FlashCardProject_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(32);\n/* harmony import */ var _Users_johnbrain_Projects_FlashCardProject_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_johnbrain_Projects_FlashCardProject_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__);\nvar _require=__webpack_require__(100),response=_require.response;var express=__webpack_require__(100);var fs=__webpack_require__(12);var mysql=__webpack_require__(175);var Datastore=__webpack_require__(437);var argon2=__webpack_require__(446);var _require2=__webpack_require__(14),resolve=_require2.resolve;var app=express();app.listen(3000,function(){return console.log('working!');});app.use(express.static('src'));//makes server able to understand incoming data as json.\napp.use(express.json({limit:'1mb'}));//app.use(express.json({strict: false}));\nvar database=new Datastore('database.db');database.loadDatabase();function readDataFile(){var sendDeckList=[];/*return fs.readFileSync('Data.txt', function(err, data) {\n      if(err){\n        throw err;\n      }\n      var deckList = data.toString().split(\"\\n\");\n      for(i in deckList) {\n          //console.log(JSON.parse(deckList[i]).deckList[0].name);\n          var tempDeck = JSON.parse(deckList[i]).deckList;\n          for(i in tempDeck){\n            //var deckName = tempDeck[i].name;\n            var newDeck = new Deck(tempDeck[i].name);\n            var cardList = tempDeck[i].cardList;\n            for(i in cardList){\n              var newCard = new Card(cardList[i].front, cardList[i].back);\n              newDeck.addCard(newCard);\n            }\n            sendDeckList.push(newDeck);\n            //console.log(newDeck.getName());\n            //console.log(newDeck.getCardList());\n            //console.log(deckName);\n          }\n      }\n      //console.log(sendDeckList);\n      //return sendDeckList;\n  });*/ /*\n  return fs.readFileSync('Data.txt', function(err, data) {\n    if(err){\n      throw err;\n    }\n    var deckList = data.toString().split(\"\\n\");\n    for(i in deckList) {\n        //console.log(JSON.parse(deckList[i]).deckList[0].name);\n        var tempDeck = JSON.parse(deckList[i]).deckList;\n        for(i in tempDeck){\n          //var deckName = tempDeck[i].name;\n          sendDeckList.push([]);\n          sendDeckList[i].push(tempDeck[i].name);\n          var cardList = tempDeck[i].cardList;\n          for(i in cardList){\n            sendDeckList[i].push([cardList[i].front, cardList[i].back]);\n          }\n          //console.log(newDeck.getName());\n          //console.log(newDeck.getCardList());\n          //console.log(deckName);\n        }\n        \n    }\n    //return sendDeckList;\n  });\n  */ //console.log(sendDeckList);\n//return sendDeckList;\n}//connects the server to the client to recieve and send data. Request is what the client sends to the server, ie data. \n// the ressponse is what the server sends beck to the client, ie a confirmation upon recieving the data.\napp.post('/api',function(req,res){console.log(\"request recieved\");console.log(req.body);fs.appendFile('./Data.txt',JSON.stringify(/*req.body.time*/req.body)+\"\\n\",function(err){if(err){console.error(err);}// file written successfully\n});//what is being sent back to the client\nres.json({status:'success',DeckList:req.body});});/*\napp.post('/editDeckList', (req, res) => {\n  console.log(\"request recieved\");\n  console.log(req.body);\n  fs.writeFile('./Data.txt', JSON.stringify(/*req.body.time*/ /* req.body) + \"\\n\", err => {\n  if (err) {\n    console.error(err);\n  }\n  // file written successfully\n});\n//what is being sent back to the client\nres.json({\n  status: 'success',\n  DeckList: req.body\n});\n});\n*/ //ONLY WORKS IF NO TWO USERNAMES ARE THE SAME\napp.post('/editDeckList',function(req,res){console.log(\"request recieved\");console.log(req.body);//database.insert(req.body);\n//database.insert(req.body[0].sendDeckList);\n//what was used before adding hashing\n//database.update({username: req.body.username, password: req.body.password}, req.body);\nvar hash=hashPassword(req.body.password).then(function(rtn){req.body.password=rtn;database.update({username:req.body.username},req.body);});//what is being sent back to the client\nres.json({status:'success',DeckList:req.body});});/*\n//sends a response to the client.\napp.get('/getData', (req, res) => {\n    console.log(\"good\");\n    //res.send(\"high\");\n    var rtnList = readDataFile();\n    console.log(rtnList);\n    //rtnList = ['h', 'h'];\n    res.send(rtnList);\n});\n*/ //sends a response to the client.\napp.get('/getData',function(req,res){console.log(\"good\");//res.send(\"high\");\ndatabase.find({},function(err,data){if(err){console.log(err);}res.json(data);console.log(data[0].sendDeckList[0].name);});//console.log(rtnList);\n//rtnList = ['h', 'h'];\n//res.send(rtnList);\n});app.post('/login',function(req,res){console.log(\"good\");//res.send(\"high\");\ndatabase.find({username:req.body.username},function(err,data){if(data.length==0){console.log(\"err\");console.log(data);res.json({});}else{//this is just test stuff you can delete it\nconsole.log(data[0].password);console.log(req.body.password);var bing=verifyPassword(data[0].password,req.body.password).then(function(rtn){console.log(rtn);console.log(data[0]);});var _loop=function _loop(i){var verify=verifyPassword(data[i].password,req.body.password).then(function(rtn){if(rtn){res.json([data[i]]);console.log('login succesful');}});};for(var i=0;i<data.length;i++){_loop(i);}//res.json(data);\n/*\n      console.log(data);\n      res.json(data);\n      console.log(data[0].sendDeckList[0].name);\n      console.log(req.body.username);\n      */}});/*\n  database.find({username: req.body.username, password: req.body.password}, (err, data) => {\n    if(data.length == 0){\n      console.log(\"err\");\n      console.log(data);\n      res.json({});\n    }\n    else{\n      console.log(data);\n      res.json(data);\n      console.log(data[0].sendDeckList[0].name);\n      console.log(req.body.username);\n    }\n  });\n  */ /*\n    const hash = hashPassword(req.body.password).then(rtn => {\n      console.log(rtn);\n      req.body.password = rtn;\n      database.find({username: req.body.username, password: req.body.password}, (err, data) => {\n        if(data.length == 0){\n          console.log(\"err\");\n          res.json({});\n        }\n        else{\n          console.log(data);\n          res.json(data);\n          console.log(data[0].sendDeckList[0].name);\n          console.log(req.body.username);\n        }\n      });\n    });\n    */ //console.log(rtnList);\n//rtnList = ['h', 'h'];\n//res.send(rtnList);\n});//hashes the password\nfunction hashPassword(_x){return _hashPassword.apply(this,arguments);}//checks if a hashed password and the normal password are the same and returns as boolean\nfunction _hashPassword(){_hashPassword=Object(_Users_johnbrain_Projects_FlashCardProject_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/_Users_johnbrain_Projects_FlashCardProject_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(password){var hash;return _Users_johnbrain_Projects_FlashCardProject_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return argon2.hash(password);case 3:hash=_context.sent;return _context.abrupt(\"return\",hash);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _hashPassword.apply(this,arguments);}function verifyPassword(_x2,_x3){return _verifyPassword.apply(this,arguments);}function _verifyPassword(){_verifyPassword=Object(_Users_johnbrain_Projects_FlashCardProject_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/_Users_johnbrain_Projects_FlashCardProject_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(hashPass,password){var verify;return _Users_johnbrain_Projects_FlashCardProject_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return argon2.verify(hashPass,password);case 3:verify=_context2.sent;return _context2.abrupt(\"return\",verify);case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return _verifyPassword.apply(this,arguments);}app.post('/createAccount',function(req,res){var username=req.body.username;var password=req.body.password;database.find({username:req.body.username},function(err,data){console.log(data.length);if(data.length!=0){console.log(\"err\");console.log(data);res.json({success:\"bad\"});}else{var hash=hashPassword(password).then(function(rtn){console.log(rtn);req.body.password=rtn;database.insert(req.body);res.json({success:\"good\"});/*res.json({\n          username: req.body.username,\n          password: rtn\n        });*/});}});//database.insert(req.body);\n//what is being sent back to the client\n//res.json({\n//status: 'success',\n//DeckList: req.body\n//});\n});//console.log(\"high\");\n/*\nconst fs = require('fs');\nconst content = 'Some content!';\n\nfs.writeFile('./Data.txt', content, err => {\n  if (err) {\n    console.error(err);\n  }\n  // file written successfully\n});\n*/ //const myURL = new URL('/foo', 'https://example.org/');\n//console.log('good');\n\n/***/ }),\n\n/***/ 206:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 208:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 245:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 262:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 277:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 280:\n/***/ (function(module, exports) {\n\nfunction webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 280;\n\n/***/ }),\n\n/***/ 282:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 284:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 294:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 296:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 324:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 326:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 327:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 332:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 334:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 353:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 365:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 368:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 425:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 427:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n\n},[[194,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/johnbrain/Projects/FlashCardProject/src/index.js","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/stream-browserify/node_modules/readable-stream/lib util","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams util","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/iconv-lite/lib ./streams","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/iconv-lite/lib ./extend-node","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/object-inspect ./util.inspect","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/methods http","/Users/johnbrain/Projects/FlashCardProject/node_modules/express/lib sync","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/node-libs-browser/node_modules/readable-stream/lib util","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/node-libs-browser/node_modules/readable-stream/lib/internal/streams util","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/readable-stream/lib util","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/readable-stream/lib/internal/streams util","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/diffie-hellman/node_modules/bn.js/lib buffer","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/miller-rabin/node_modules/bn.js/lib buffer","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/brorand crypto","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/bn.js/lib buffer","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/elliptic/node_modules/bn.js/lib buffer","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/asn1.js/node_modules/bn.js/lib buffer","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/create-ecdh/node_modules/bn.js/lib buffer","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/public-encrypt/node_modules/bn.js/lib buffer","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/mysql/node_modules/readable-stream/lib util","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/mysql/node_modules/readable-stream/lib/internal/streams util"],"names":["require","response","express","fs","mysql","Datastore","argon2","resolve","app","listen","console","log","use","static","json","limit","database","loadDatabase","readDataFile","sendDeckList","post","req","res","body","appendFile","JSON","stringify","err","error","status","DeckList","hash","hashPassword","password","then","rtn","update","username","get","find","data","name","length","bing","verifyPassword","i","verify","hashPass","success","insert"],"mappings":"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","file":"x","sourcesContent":["\n\nconst { response } = require('express');\nconst express = require('express');\nconst fs = require('fs');\nconst mysql = require('mysql');\nconst Datastore = require('nedb');\nconst argon2 = require('argon2');\nconst { resolve } = require('path');\n\nconst app = express();\napp.listen(3000, () => console.log('working!'));\napp.use(express.static('src'));\n//makes server able to understand incoming data as json.\napp.use(express.json({ limit: '1mb' }));\n//app.use(express.json({strict: false}));\nconst database = new Datastore('database.db');\ndatabase.loadDatabase();\n\nfunction readDataFile() {\n  var sendDeckList = [];\n  /*return fs.readFileSync('Data.txt', function(err, data) {\n      if(err){\n        throw err;\n      }\n      var deckList = data.toString().split(\"\\n\");\n      for(i in deckList) {\n          //console.log(JSON.parse(deckList[i]).deckList[0].name);\n          var tempDeck = JSON.parse(deckList[i]).deckList;\n          for(i in tempDeck){\n            //var deckName = tempDeck[i].name;\n            var newDeck = new Deck(tempDeck[i].name);\n            var cardList = tempDeck[i].cardList;\n            for(i in cardList){\n              var newCard = new Card(cardList[i].front, cardList[i].back);\n              newDeck.addCard(newCard);\n            }\n            sendDeckList.push(newDeck);\n            //console.log(newDeck.getName());\n            //console.log(newDeck.getCardList());\n            //console.log(deckName);\n          }\n      }\n      //console.log(sendDeckList);\n      //return sendDeckList;\n  });*/\n  /*\n  return fs.readFileSync('Data.txt', function(err, data) {\n    if(err){\n      throw err;\n    }\n    var deckList = data.toString().split(\"\\n\");\n    for(i in deckList) {\n        //console.log(JSON.parse(deckList[i]).deckList[0].name);\n        var tempDeck = JSON.parse(deckList[i]).deckList;\n        for(i in tempDeck){\n          //var deckName = tempDeck[i].name;\n          sendDeckList.push([]);\n          sendDeckList[i].push(tempDeck[i].name);\n          var cardList = tempDeck[i].cardList;\n          for(i in cardList){\n            sendDeckList[i].push([cardList[i].front, cardList[i].back]);\n          }\n          //console.log(newDeck.getName());\n          //console.log(newDeck.getCardList());\n          //console.log(deckName);\n        }\n        \n    }\n    //return sendDeckList;\n  });\n  */\n  //console.log(sendDeckList);\n  //return sendDeckList;\n}\n\n\n//connects the server to the client to recieve and send data. Request is what the client sends to the server, ie data. \n// the ressponse is what the server sends beck to the client, ie a confirmation upon recieving the data.\napp.post('/api', (req, res) => {\n  console.log(\"request recieved\");\n  console.log(req.body);\n  fs.appendFile('./Data.txt', JSON.stringify(/*req.body.time*/ req.body) + \"\\n\", err => {\n    if (err) {\n      console.error(err);\n    }\n    // file written successfully\n  });\n  //what is being sent back to the client\n  res.json({\n    status: 'success',\n    DeckList: req.body\n  });\n});\n\n/*\napp.post('/editDeckList', (req, res) => {\n  console.log(\"request recieved\");\n  console.log(req.body);\n  fs.writeFile('./Data.txt', JSON.stringify(/*req.body.time*//* req.body) + \"\\n\", err => {\n  if (err) {\n    console.error(err);\n  }\n  // file written successfully\n});\n//what is being sent back to the client\nres.json({\n  status: 'success',\n  DeckList: req.body\n});\n});\n*/\n\n//ONLY WORKS IF NO TWO USERNAMES ARE THE SAME\napp.post('/editDeckList', (req, res) => {\n  console.log(\"request recieved\");\n  console.log(req.body);\n  //database.insert(req.body);\n  //database.insert(req.body[0].sendDeckList);\n\n  //what was used before adding hashing\n  //database.update({username: req.body.username, password: req.body.password}, req.body);\n\n  const hash = hashPassword(req.body.password).then(rtn => {\n    req.body.password = rtn;\n    database.update({ username: req.body.username }, req.body);\n  });\n\n\n  //what is being sent back to the client\n  res.json({\n    status: 'success',\n    DeckList: req.body\n  });\n});\n\n/*\n//sends a response to the client.\napp.get('/getData', (req, res) => {\n    console.log(\"good\");\n    //res.send(\"high\");\n    var rtnList = readDataFile();\n    console.log(rtnList);\n    //rtnList = ['h', 'h'];\n    res.send(rtnList);\n});\n*/\n\n//sends a response to the client.\napp.get('/getData', (req, res) => {\n  console.log(\"good\");\n  //res.send(\"high\");\n  database.find({}, (err, data) => {\n    if (err) {\n      console.log(err);\n    }\n    res.json(data);\n    console.log(data[0].sendDeckList[0].name);\n  });\n  //console.log(rtnList);\n  //rtnList = ['h', 'h'];\n  //res.send(rtnList);\n});\n\napp.post('/login', (req, res) => {\n  console.log(\"good\");\n  //res.send(\"high\");\n\n  database.find({ username: req.body.username }, (err, data) => {\n    if (data.length == 0) {\n      console.log(\"err\");\n      console.log(data);\n      res.json({});\n    }\n    else {\n      //this is just test stuff you can delete it\n      console.log(data[0].password);\n      console.log(req.body.password);\n      const bing = verifyPassword(data[0].password, req.body.password).then(rtn => {\n        console.log(rtn);\n        console.log(data[0]);\n      });\n\n      for (let i = 0; i < data.length; i++) {\n        const verify = verifyPassword(data[i].password, req.body.password).then(rtn => {\n          if (rtn) {\n            res.json([data[i]]);\n            console.log('login succesful');\n          }\n        })\n      }\n      //res.json(data);\n      /*\n      console.log(data);\n      res.json(data);\n      console.log(data[0].sendDeckList[0].name);\n      console.log(req.body.username);\n      */\n    }\n  });\n\n  /*\n  database.find({username: req.body.username, password: req.body.password}, (err, data) => {\n    if(data.length == 0){\n      console.log(\"err\");\n      console.log(data);\n      res.json({});\n    }\n    else{\n      console.log(data);\n      res.json(data);\n      console.log(data[0].sendDeckList[0].name);\n      console.log(req.body.username);\n    }\n  });\n  */\n  /*\n    const hash = hashPassword(req.body.password).then(rtn => {\n      console.log(rtn);\n      req.body.password = rtn;\n      database.find({username: req.body.username, password: req.body.password}, (err, data) => {\n        if(data.length == 0){\n          console.log(\"err\");\n          res.json({});\n        }\n        else{\n          console.log(data);\n          res.json(data);\n          console.log(data[0].sendDeckList[0].name);\n          console.log(req.body.username);\n        }\n      });\n    });\n    */\n\n  //console.log(rtnList);\n  //rtnList = ['h', 'h'];\n  //res.send(rtnList);\n});\n\n//hashes the password\nasync function hashPassword(password) {\n  try {\n    const hash = await argon2.hash(password);\n    return hash;\n  } catch (err) {\n    console.log(err);\n  }\n}\n\n//checks if a hashed password and the normal password are the same and returns as boolean\nasync function verifyPassword(hashPass, password) {\n  try {\n    const verify = await argon2.verify(hashPass, password);\n    return verify;\n  } catch (err) {\n    console.log(err);\n  }\n}\n\napp.post('/createAccount', (req, res) => {\n  var username = req.body.username;\n  var password = req.body.password;\n  database.find({ username: req.body.username }, (err, data) => {\n    console.log(data.length);\n    if (data.length != 0) {\n      console.log(\"err\");\n      console.log(data);\n      res.json({ success: \"bad\" });\n    }\n    else {\n      const hash = hashPassword(password).then(rtn => {\n        console.log(rtn);\n        req.body.password = rtn;\n        database.insert(req.body);\n\n        res.json({ success: \"good\" });\n\n        /*res.json({\n          username: req.body.username,\n          password: rtn\n        });*/\n      });\n    }\n  });\n\n  //database.insert(req.body);\n\n  //what is being sent back to the client\n  //res.json({\n  //status: 'success',\n  //DeckList: req.body\n  //});\n});\n\n\n\n\n//console.log(\"high\");\n\n/*\nconst fs = require('fs');\nconst content = 'Some content!';\n\nfs.writeFile('./Data.txt', content, err => {\n  if (err) {\n    console.error(err);\n  }\n  // file written successfully\n});\n*/\n\n//const myURL = new URL('/foo', 'https://example.org/');\n\n//console.log('good');\n\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 280;","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"]}}