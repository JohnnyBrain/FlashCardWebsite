{"code":"(this[\"webpackJsonpjapanese-website\"]=this[\"webpackJsonpjapanese-website\"]||[]).push([[0],{191:function(o,n,e){e(97).response;var s=e(97),t=e(12),c=(e(173),e(432)),i=s();i.listen(3e3,(function(){return console.log(\"working!\")})),i.use(s.static(\"src\")),i.use(s.json({limit:\"1mb\"}));var u=new c(\"database.db\");u.loadDatabase(),i.post(\"/api\",(function(o,n){console.log(\"request recieved\"),console.log(o.body),t.appendFile(\"./Data.txt\",JSON.stringify(o.body)+\"\\n\",(function(o){o&&console.error(o)})),n.json({status:\"success\",DeckList:o.body})})),i.post(\"/editDeckList\",(function(o,n){console.log(\"request recieved\"),console.log(o.body),u.update({username:o.body.username,password:o.body.password},o.body),n.json({status:\"success\",DeckList:o.body})})),i.get(\"/getData\",(function(o,n){console.log(\"good\"),u.find({},(function(o,e){o&&console.log(o),n.json(e),console.log(e[0].sendDeckList[0].name)}))})),i.post(\"/login\",(function(o,n){console.log(\"good\"),u.find({username:o.body.username,password:o.body.password},(function(e,s){0==s.length?(console.log(\"err\"),n.json({})):(console.log(s),n.json(s),console.log(s[0].sendDeckList[0].name),console.log(o.body.username))}))})),i.post(\"/createAccount\",(function(o,n){u.insert(o.body),n.json({status:\"success\",DeckList:o.body})}))},201:function(o,n){},203:function(o,n){},239:function(o,n){},240:function(o,n){},257:function(o,n){},272:function(o,n){},275:function(o,n){function e(o){var n=new Error(\"Cannot find module '\"+o+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}e.keys=function(){return[]},e.resolve=e,o.exports=e,e.id=275},277:function(o,n){},279:function(o,n){},289:function(o,n){},291:function(o,n){},319:function(o,n){},321:function(o,n){},322:function(o,n){},327:function(o,n){},329:function(o,n){},348:function(o,n){},360:function(o,n){},363:function(o,n){},420:function(o,n){},422:function(o,n){}},[[191,1,2]]]);","name":"static/js/main.4bf77d77.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","response","express","fs","Datastore","app","listen","console","log","use","static","json","limit","database","loadDatabase","post","req","res","body","appendFile","JSON","stringify","err","error","status","DeckList","update","username","password","get","find","data","sendDeckList","name","length","insert","webpackEmptyContext","e","Error","code","keys","resolve","id"],"sources":["static/js/main.4bf77d77.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpjapanese-website\"] = this[\"webpackJsonpjapanese-website\"] || []).push([[0],{\n\n/***/ 191:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _require=__webpack_require__(97),response=_require.response;var express=__webpack_require__(97);var fs=__webpack_require__(12);var mysql=__webpack_require__(173);var Datastore=__webpack_require__(432);var app=express();app.listen(3000,function(){return console.log('working!');});app.use(express.static('src'));//makes server able to understand incoming data as json.\napp.use(express.json({limit:'1mb'}));//app.use(express.json({strict: false}));\nvar database=new Datastore('database.db');database.loadDatabase();function readDataFile(){var sendDeckList=[];/*return fs.readFileSync('Data.txt', function(err, data) {\n      if(err){\n        throw err;\n      }\n      var deckList = data.toString().split(\"\\n\");\n      for(i in deckList) {\n          //console.log(JSON.parse(deckList[i]).deckList[0].name);\n          var tempDeck = JSON.parse(deckList[i]).deckList;\n          for(i in tempDeck){\n            //var deckName = tempDeck[i].name;\n            var newDeck = new Deck(tempDeck[i].name);\n            var cardList = tempDeck[i].cardList;\n            for(i in cardList){\n              var newCard = new Card(cardList[i].front, cardList[i].back);\n              newDeck.addCard(newCard);\n            }\n            sendDeckList.push(newDeck);\n            //console.log(newDeck.getName());\n            //console.log(newDeck.getCardList());\n            //console.log(deckName);\n          }\n      }\n      //console.log(sendDeckList);\n      //return sendDeckList;\n  });*/return fs.readFileSync('Data.txt',function(err,data){if(err){throw err;}var deckList=data.toString().split(\"\\n\");for(i in deckList){//console.log(JSON.parse(deckList[i]).deckList[0].name);\nvar tempDeck=JSON.parse(deckList[i]).deckList;for(i in tempDeck){//var deckName = tempDeck[i].name;\nsendDeckList.push([]);sendDeckList[i].push(tempDeck[i].name);var cardList=tempDeck[i].cardList;for(i in cardList){sendDeckList[i].push([cardList[i].front,cardList[i].back]);}//console.log(newDeck.getName());\n//console.log(newDeck.getCardList());\n//console.log(deckName);\n}}//return sendDeckList;\n});//console.log(sendDeckList);\n//return sendDeckList;\n}//connects the server to the client to recieve and send data. Request is what the client sends to the server, ie data. \n// the ressponse is what the server sends beck to the client, ie a confirmation upon recieving the data.\napp.post('/api',function(req,res){console.log(\"request recieved\");console.log(req.body);fs.appendFile('./Data.txt',JSON.stringify(/*req.body.time*/req.body)+\"\\n\",function(err){if(err){console.error(err);}// file written successfully\n});//what is being sent back to the client\nres.json({status:'success',DeckList:req.body});});/*\napp.post('/editDeckList', (req, res) => {\n  console.log(\"request recieved\");\n  console.log(req.body);\n  fs.writeFile('./Data.txt', JSON.stringify(/*req.body.time*/ /* req.body) + \"\\n\", err => {\n    if (err) {\n      console.error(err);\n    }\n    // file written successfully\n  });\n  //what is being sent back to the client\n  res.json({\n    status: 'success',\n    DeckList: req.body\n  });\n});\n*/app.post('/editDeckList',function(req,res){console.log(\"request recieved\");console.log(req.body);//database.insert(req.body);\n//database.insert(req.body[0].sendDeckList);\ndatabase.update({username:req.body.username,password:req.body.password},req.body);//what is being sent back to the client\nres.json({status:'success',DeckList:req.body});});/*\n//sends a response to the client.\napp.get('/getData', (req, res) => {\n    console.log(\"good\");\n    //res.send(\"high\");\n    var rtnList = readDataFile();\n    console.log(rtnList);\n    //rtnList = ['h', 'h'];\n    res.send(rtnList);\n});\n*/ //sends a response to the client.\napp.get('/getData',function(req,res){console.log(\"good\");//res.send(\"high\");\ndatabase.find({},function(err,data){if(err){console.log(err);}res.json(data);console.log(data[0].sendDeckList[0].name);});//console.log(rtnList);\n//rtnList = ['h', 'h'];\n//res.send(rtnList);\n});app.post('/login',function(req,res){console.log(\"good\");//res.send(\"high\");\ndatabase.find({username:req.body.username,password:req.body.password},function(err,data){if(data.length==0){console.log(\"err\");res.json({});}else{console.log(data);res.json(data);console.log(data[0].sendDeckList[0].name);console.log(req.body.username);}});//console.log(rtnList);\n//rtnList = ['h', 'h'];\n//res.send(rtnList);\n});app.post('/createAccount',function(req,res){database.insert(req.body);//what is being sent back to the client\nres.json({status:'success',DeckList:req.body});});//console.log(\"high\");\n/*\nconst fs = require('fs');\nconst content = 'Some content!';\n\nfs.writeFile('./Data.txt', content, err => {\n  if (err) {\n    console.error(err);\n  }\n  // file written successfully\n});\n*/ //const myURL = new URL('/foo', 'https://example.org/');\n//console.log('good');\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 203:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 239:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 240:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 257:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 272:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 275:\n/***/ (function(module, exports) {\n\nfunction webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 275;\n\n/***/ }),\n\n/***/ 277:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 289:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 291:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 319:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 321:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 322:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 327:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 329:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 348:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 360:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 363:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 420:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 422:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n\n},[[191,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/johnbrain/Projects/FlashCardProject/src/index.js","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/stream-browserify/node_modules/readable-stream/lib util","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams util","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/iconv-lite/lib ./streams","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/iconv-lite/lib ./extend-node","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/object-inspect ./util.inspect","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/methods http","/Users/johnbrain/Projects/FlashCardProject/node_modules/express/lib sync","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/node-libs-browser/node_modules/readable-stream/lib util","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/node-libs-browser/node_modules/readable-stream/lib/internal/streams util","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/readable-stream/lib util","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/readable-stream/lib/internal/streams util","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/diffie-hellman/node_modules/bn.js/lib buffer","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/miller-rabin/node_modules/bn.js/lib buffer","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/brorand crypto","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/bn.js/lib buffer","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/elliptic/node_modules/bn.js/lib buffer","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/asn1.js/node_modules/bn.js/lib buffer","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/create-ecdh/node_modules/bn.js/lib buffer","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/public-encrypt/node_modules/bn.js/lib buffer","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/mysql/node_modules/readable-stream/lib util","ignored /Users/johnbrain/Projects/FlashCardProject/node_modules/mysql/node_modules/readable-stream/lib/internal/streams util"],"names":["require","response","express","fs","mysql","Datastore","app","listen","console","log","use","static","json","limit","database","loadDatabase","readDataFile","sendDeckList","readFileSync","err","data","deckList","toString","split","i","tempDeck","JSON","parse","push","name","cardList","front","back","post","req","res","body","appendFile","stringify","error","status","DeckList","update","username","password","get","find","length","insert"],"mappings":"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","file":"x","sourcesContent":["\n\nconst { response } = require('express');\nconst express = require('express');\nconst fs = require('fs');\nconst mysql = require('mysql');\nconst Datastore = require('nedb');\n\nconst app = express();\napp.listen(3000, () => console.log('working!'));\napp.use(express.static('src'));\n//makes server able to understand incoming data as json.\napp.use(express.json({limit: '1mb'}));\n//app.use(express.json({strict: false}));\nconst database = new Datastore('database.db');\ndatabase.loadDatabase();\n\nfunction readDataFile(){\n  var sendDeckList = [];\n  /*return fs.readFileSync('Data.txt', function(err, data) {\n      if(err){\n        throw err;\n      }\n      var deckList = data.toString().split(\"\\n\");\n      for(i in deckList) {\n          //console.log(JSON.parse(deckList[i]).deckList[0].name);\n          var tempDeck = JSON.parse(deckList[i]).deckList;\n          for(i in tempDeck){\n            //var deckName = tempDeck[i].name;\n            var newDeck = new Deck(tempDeck[i].name);\n            var cardList = tempDeck[i].cardList;\n            for(i in cardList){\n              var newCard = new Card(cardList[i].front, cardList[i].back);\n              newDeck.addCard(newCard);\n            }\n            sendDeckList.push(newDeck);\n            //console.log(newDeck.getName());\n            //console.log(newDeck.getCardList());\n            //console.log(deckName);\n          }\n      }\n      //console.log(sendDeckList);\n      //return sendDeckList;\n  });*/\n  return fs.readFileSync('Data.txt', function(err, data) {\n    if(err){\n      throw err;\n    }\n    var deckList = data.toString().split(\"\\n\");\n    for(i in deckList) {\n        //console.log(JSON.parse(deckList[i]).deckList[0].name);\n        var tempDeck = JSON.parse(deckList[i]).deckList;\n        for(i in tempDeck){\n          //var deckName = tempDeck[i].name;\n          sendDeckList.push([]);\n          sendDeckList[i].push(tempDeck[i].name);\n          var cardList = tempDeck[i].cardList;\n          for(i in cardList){\n            sendDeckList[i].push([cardList[i].front, cardList[i].back]);\n          }\n          //console.log(newDeck.getName());\n          //console.log(newDeck.getCardList());\n          //console.log(deckName);\n        }\n        \n    }\n    //return sendDeckList;\n  });\n  //console.log(sendDeckList);\n  //return sendDeckList;\n}\n\n//connects the server to the client to recieve and send data. Request is what the client sends to the server, ie data. \n// the ressponse is what the server sends beck to the client, ie a confirmation upon recieving the data.\napp.post('/api', (req, res) => {\n  console.log(\"request recieved\");\n  console.log(req.body);\n  fs.appendFile('./Data.txt', JSON.stringify(/*req.body.time*/ req.body) + \"\\n\", err => {\n    if (err) {\n      console.error(err);\n    }\n    // file written successfully\n  });\n  //what is being sent back to the client\n  res.json({\n    status: 'success',\n    DeckList: req.body\n  });\n});\n\n/*\napp.post('/editDeckList', (req, res) => {\n  console.log(\"request recieved\");\n  console.log(req.body);\n  fs.writeFile('./Data.txt', JSON.stringify(/*req.body.time*//* req.body) + \"\\n\", err => {\n    if (err) {\n      console.error(err);\n    }\n    // file written successfully\n  });\n  //what is being sent back to the client\n  res.json({\n    status: 'success',\n    DeckList: req.body\n  });\n});\n*/\n\napp.post('/editDeckList', (req, res) => {\n  console.log(\"request recieved\");\n  console.log(req.body);\n  //database.insert(req.body);\n  //database.insert(req.body[0].sendDeckList);\n  database.update({username: req.body.username, password: req.body.password}, req.body);\n  //what is being sent back to the client\n  res.json({\n    status: 'success',\n    DeckList: req.body\n  });\n});\n\n/*\n//sends a response to the client.\napp.get('/getData', (req, res) => {\n    console.log(\"good\");\n    //res.send(\"high\");\n    var rtnList = readDataFile();\n    console.log(rtnList);\n    //rtnList = ['h', 'h'];\n    res.send(rtnList);\n});\n*/\n\n//sends a response to the client.\napp.get('/getData', (req, res) => {\n  console.log(\"good\");\n  //res.send(\"high\");\n  database.find({}, (err, data) => {\n    if(err){\n      console.log(err);\n    }\n    res.json(data);\n    console.log(data[0].sendDeckList[0].name);\n  });\n  //console.log(rtnList);\n  //rtnList = ['h', 'h'];\n  //res.send(rtnList);\n});\n\napp.post('/login', (req, res) => {\n  console.log(\"good\");\n  //res.send(\"high\");\n  database.find({username: req.body.username, password: req.body.password}, (err, data) => {\n    if(data.length == 0){\n      console.log(\"err\");\n      res.json({});\n    }\n    else{\n      console.log(data);\n      res.json(data);\n      console.log(data[0].sendDeckList[0].name);\n      console.log(req.body.username);\n    }\n  });\n  //console.log(rtnList);\n  //rtnList = ['h', 'h'];\n  //res.send(rtnList);\n});\n\napp.post('/createAccount', (req, res) => {\n  database.insert(req.body);\n  //what is being sent back to the client\n  res.json({\n    status: 'success',\n    DeckList: req.body\n  });\n})\n\n\n\n\n//console.log(\"high\");\n\n/*\nconst fs = require('fs');\nconst content = 'Some content!';\n\nfs.writeFile('./Data.txt', content, err => {\n  if (err) {\n    console.error(err);\n  }\n  // file written successfully\n});\n*/\n\n//const myURL = new URL('/foo', 'https://example.org/');\n\n//console.log('good');\n\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 275;","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"]}}